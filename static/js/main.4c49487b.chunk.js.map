{"version":3,"sources":["components/Header/Header.module.css","api/profile-api.ts","redux/profile/profile-reducer.ts","assets/images/390poHMbqew.jpg","api/api.ts","redux/dialogs-reducer.ts","components/Navbar/Navbar.module.css","components/Users/Users.module.css","reportWebVitals.js","components/Navbar/Navbar.tsx","components/Profile/News/News.tsx","components/Profile/Music/Music.tsx","components/Profile/Settings/Settings.tsx","utilities/object-helpers.ts","api/users-api.ts","redux/users/users-reducer.ts","assets/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","redux/users/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","components/Login/LoginForm.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","assets/common/FormsControls/FormsControls.tsx","assets/common/FormsControls/FormsControls.module.css","utilities/validators/Validators.tsx","assets/images/Spin-1.4s-137px (1).svg","assets/common/Preloader.tsx","assets/common/Paginator/Paginator.module.css"],"names":["module","exports","profileAPI","userId","instance","get","then","res","data","status","put","photoFile","formData","FormData","append","headers","profile","initialState","posts","id","message","likesCount","newPostText","actions","addPost","type","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","photos","getUserProfile","dispatch","a","getStatus","updateStatus","resultCode","savePhoto","file","saveProfile","getState","auth","Error","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","ResultCodeEnum","ResultCodeForCaptcha","axios","create","withCredentials","baseURL","dialogs","name","newMessageBody","sendMessageCreator","dialogsReducer","body","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","News","props","Music","Settings","updateObjectInArray","itemId","objPropName","newObjProps","map","u","usersAPI","getUsers","currentPage","pageSize","term","follow","post","unfollow","delete","users","totalUsersCount","isFetching","followingInProgress","followSuccess","usersId","unfollowSuccess","setUsers","setCurrentPage","setFilter","payload","setTotalUsersCount","count","toggleIsFetching","toggleFollowingProgress","_followUnfollowFlow","apiMethod","actionCreator","Paginator","totalItemsCount","onPageChanged","x","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","styles","paginator","onClick","selectedPage","pageNumber","e","User","user","src","small","userPhoto","followed","disabled","some","fullName","usersSearchFormValidate","values","UsersSearchForm","initialValues","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","Users","getUsersState","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","UsersContainer","this","Preloader","React","Component","compose","connect","bind","items","totalCount","Header","header","loginBlock","isAuth","login","logout","authAPI","email","password","rememberMe","captcha","securityAPI","captchaUrl","getAuthUserData","response","Success","getCaptchaUrl","url","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","createField","required","Input","alt","formSummaryError","CaptchaIsRequired","length","initialized","globalError","initializedSuccess","appReducer","sidebarReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","withSuspense","WrappedComponent","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","AppContainer","withRouter","initializeApp","promise","all","catchAllUnhandledErrors","alert","useEffect","addEventListener","removeEventListener","exact","path","render","SamuraiJSApp","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","placeholder","validators","component","text","value","maxLengthCreator","maxLength","style","backgroundColor","preloader"],"mappings":"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","file":"static/js/main.4c49487b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3WY8I\",\"loginBlock\":\"Header_loginBlock__1ARoA\"};","import {instance, APIResponseType} from \"./api\";\r\nimport {PhotosType, ProfileType} from \"../types\";\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/` + userId).then(res => res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status`, {status: status}).then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        let formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile).then(res => res.data)\r\n    }\r\n}\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosType\r\n}","import {PhotosType, PostsPropsType, ProfileType} from \"../../types\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {profileAPI} from \"../../api/profile-api\";\r\nimport {BaseThunkType, InferActionsType} from \"../redux-store\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 12},\r\n        {id: 2, message: \"It is my first post\", likesCount: 11},\r\n        {id: 3, message: \"Blabla\", likesCount: 11},\r\n        {id: 4, message: \"Dada\", likesCount: 11}\r\n    ] as Array<PostsPropsType>,\r\n    newPostText: \"\",\r\n    profile: null as ProfileType | null,\r\n    status: \"\"\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/ADD_POST': {\r\n            let newPost = {id: 5, message: action.newPostText, likesCount: 0};\r\n            return {...state, posts: [...state.posts, newPost], newPostText: ''}\r\n        }\r\n        case 'SN/PROFILE/SET_USER_PROFILE': {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case 'SN/PROFILE/DELETE_POST': {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case 'SN/PROFILE/SAVE_PHOTO_SUCCESS':\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n        case 'SN/PROFILE/SET_STATUS':\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// ACTION CREATORS\r\nexport const actions = {\r\n    addPost: (newPostText: string) => ({type: 'SN/PROFILE/ADD_POST', newPostText} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'SN/PROFILE/SET_USER_PROFILE', profile} as const),\r\n    setStatus: (status: string) => ({type: 'SN/PROFILE/SET_STATUS', status} as const),\r\n    deletePost: (postId: number) => ({type: 'SN/PROFILE/DELETE_POST', postId} as const),\r\n    savePhotoSuccess: (photos: PhotosType) => ({type: 'SN/PROFILE/SAVE_PHOTO_SUCCESS', photos} as const)\r\n}\r\n\r\n\r\n// THUNK CREATORS\r\nexport const getUserProfile = (userId: number): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(data))\r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setStatus(data))\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(file);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.savePhotoSuccess(data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const data = await profileAPI.saveProfile(profile);\r\n\r\n    if (data.resultCode === 0) {\r\n        if (userId != null) {\r\n            dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: data.messages[0]}))\r\n        return Promise.reject(data.messages[0])\r\n    }\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = InferActionsType<typeof actions>\r\nexport type InitialStateType = typeof initialState\r\nexport type ThunkType = BaseThunkType<ActionsType | ReturnType<typeof stopSubmit>>\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/390poHMbqew.5605775c.jpg\";","import axios from \"axios\";\r\nimport {UserType} from \"../types\";\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"bcdf24e0-2cad-40e4-be67-f9d4eea9b547\"\r\n    }\r\n})\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodeEnum> = {\r\n    data: D\r\n    messages: string[]\r\n    resultCode: RC\r\n}","import {InferActionsType} from \"./redux-store\";\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Dimych\"},\r\n        {id: 2, name: \"Viktor\"},\r\n        {id: 3, name: \"Sveta\"},\r\n        {id: 4, name: \"Andrew\"},\r\n        {id: 5, name: \"Sasha\"},\r\n        {id: 6, name: \"Valera\"},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How is your It-kamasutra? \"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"}\r\n    ],\r\n    newMessageBody: \"\"\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/DIALOGS/SEND_MESSAGE\":\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// ACTION CREATORS\r\nexport const actions = {\r\n    sendMessageCreator: (newMessageBody: string) => ({type: \"SN/DIALOGS/SEND_MESSAGE\", newMessageBody} as const)\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = InferActionsType<typeof actions>\r\nexport type InitialStateType = typeof initialState\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2HG0W\",\"item\":\"Navbar_item__1wlkt\",\"activeLink\":\"Navbar_activeLink__1ES7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1nMrh\",\"selectedPage\":\"Users_selectedPage__35YmP\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n/*let s = {\r\n    'nav': 'Navbar_nav__3Rdw3',\r\n    'item': 'Navbar__item__2k32d'\r\n} */\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}> Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}> Messages</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}> Users</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}> News</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}> Music</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}> Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\rimport s from './News.module.css';\r\rtype NewsPropsType = {\r\r}\r\rconst News = (props: NewsPropsType) => {\r    return (\r        <div>\r        </div>\r\r    )\r}\r\rexport default News;","import React from 'react';\rimport s from './Music.module.css';\rconst Music = () => {\r    return (\r        <div>\r        </div>\r\r    )\r}\r\rexport default Music;","import React from 'react';\rimport s from './Settings.module.css';\r\rtype SettingsPropsType = {\r\r}\r\rconst Settings = (props: SettingsPropsType) => {\r    return (\r        <div>\r        </div>\r\r    )\r}\r\rexport default Settings;","type MakeKeysOptional<T extends {}> = {[Property in keyof T]?: T[Property]}\r\n\r\nexport const updateObjectInArray = <T extends {}>(item: T[], itemId: T[keyof T], objPropName: keyof T, newObjProps: MakeKeysOptional<T>): T[] => {\r\n    return item.map((u) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {GetItemsType, instance, APIResponseType} from \"./api\";\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage: number = 1, pageSize: number = 10,term: string = \"\") => {\r\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}`)\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>\r\n    }\r\n    // getProfile(userId: number) {\r\n    //     console.warn('Obsolete method.Please profileAPI object.')\r\n    //     return profileAPI.getProfile(userId)\r\n    // }\r\n}\r\n","import {UserType} from \"../../types\";\r\nimport {updateObjectInArray} from \"../../utilities/object-helpers\";\r\nimport {BaseThunkType, InferActionsType} from \"../redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../../api/users-api\";\r\nimport {APIResponseType} from \"../../api/api\";\r\n\r\n\r\nlet initialState = {\r\n    users: [] as UserType[],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>, // array of users ids\r\n    filter: {\r\n        term: \"\"\r\n    }\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.usersId, \"id\", {followed: true})\r\n            }\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.usersId, \"id\", {followed: false})\r\n            }\r\n        case 'SN/USERS/SET_USERS': {\r\n            return {...state, users: action.users}\r\n        }\r\n        case  'SN/USERS/SET_CURRENT_PAGE': {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT': {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case  'SN/USERS/TOGGLE_IS_FETCHING': {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case \"SN/USERS/SET_FILTER\": {\r\n            return {\r\n                ...state,filter: action.payload\r\n            }\r\n        }\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// ACTION CREATORS\r\nexport const actions = {\r\n    followSuccess: (usersId: number) => ({type: 'SN/USERS/FOLLOW', usersId} as const),\r\n    unfollowSuccess: (usersId: number) => ({type: 'SN/USERS/UNFOLLOW', usersId} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', currentPage} as const),\r\n    setFilter: (term: string) => ({type: 'SN/USERS/SET_FILTER',payload: {term} } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => (\r\n        {type: 'SN/USERS/SET_TOTAL_USERS_COUNT', count: totalUsersCount} as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching} as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => (\r\n        {type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId} as const)\r\n}\r\n\r\n// THUNK CREATORS\r\nexport const getUsers = (currentPage: number, pageSize: number,term: string): ThunkType => {  //ThunkCreator\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(currentPage))\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize,term);\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(data.items))\r\n        dispatch(actions.setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const _followUnfollowFlow = async (dispatch: DispatchType,\r\n                                          userId: number,\r\n                                          apiMethod: (userId: number) => Promise<APIResponseType>,\r\n                                          actionCreator: (userId: number) => ActionsType) => {\r\n    try {\r\n        dispatch(actions.toggleFollowingProgress(true, userId))\r\n        let data = await apiMethod(userId);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n    } finally {\r\n        dispatch(actions.toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {  //ThunkCreator\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): ThunkType => {  //ThunkCreator\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess)\r\n    }\r\n}\r\n\r\n// TYPES\r\nexport type ActionsType = InferActionsType<typeof actions>\r\ntype DispatchType = Dispatch<ActionsType>\r\ntype ThunkType = BaseThunkType<ActionsType>\r\nexport type InitialStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter;","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nexport let Paginator: React.FC<PropsType> = ({\r\n                                                 totalItemsCount,\r\n                                                 pageSize,\r\n                                                 currentPage = 1,\r\n                                                 onPageChanged = x => x,\r\n                                                 portionSize = 10\r\n                                             }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={cn(styles.paginator)}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}\r\n                >{p}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>\r\n        }\r\n\r\n\r\n    </div>\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/390poHMbqew.jpg\";\r\nimport {NavLink} from \"react-router-dom\"\r\nimport {UserType} from \"../../types\";\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    followingInProgress: number[]\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nexport let User: React.FC<UserPropsType> = ({user,followingInProgress,unfollow,follow}) => {\r\n    return <div>\r\n        <span>\r\n             <div>\r\n                <NavLink to={'./profile/' + user.id}>\r\n                     <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n             <div>{user.followed\r\n                 ?  <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {unfollow( user.id) }}>Unfollow</button>\r\n                 : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                           onClick={() => {follow(user.id) }}>Follow</button>}\r\n            </div>\r\n        </span>\r\n        <span>\r\n                <span>\r\n                    <div>{user.fullName}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n         </span>\r\n        </div>\r\n}\r\n","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {FilterType} from \"../../redux/users/users-reducer\";\r\n\r\n\r\nexport const usersSearchFormValidate = (values: any) => {\r\n    const errors = {}\r\n    return errors\r\n}\r\n\r\nexport type PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nexport const UsersSearchForm:React.FC<PropsType> = props => {\r\n\r\n\r\n    const submit = (values: FilterType, {setSubmitting}: { setSubmitting: (setSubmitting: boolean) => void }) => {\r\n        props.onFilterChanged(values)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n            initialValues={{term: ''}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    <Field type=\"text\" name=\"term\"/>\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n}","import React from \"react\";\r\nimport {UserType} from \"../../types\";\r\nimport {Paginator} from \"../../assets/common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\nimport {FilterType} from \"../../redux/users/users-reducer\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm\";\r\n\r\n\r\ntype PropsType = {\r\n    onPageChanged: (p: number) => void\r\n    onFilterChanged: (filter: FilterType) => void\r\n    followingInProgress: number[]\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setUsers: (users: Array<UserType>) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    setTotalUsersCount: (totalCount: number) => void\r\n    toggleIsFetching: (isFetching: boolean) => void\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number,term: string) => void\r\n}\r\n\r\nexport let Users = (props: PropsType) => {\r\n    return <div>\r\n\r\n        <UsersSearchForm onFilterChanged={props.onFilterChanged}/>\r\n\r\n        <Paginator totalItemsCount={props.totalUsersCount}\r\n                   pageSize={props.pageSize}\r\n                   currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged}/>\r\n        <div>\r\n            {props.users.map(u => <User key={u.id}\r\n                                        user={u}\r\n                                        unfollow={props.unfollow}\r\n                                        follow={props.follow}\r\n                                        followingInProgress={props.followingInProgress}/>)}\r\n\r\n        </div>\r\n    </div>\r\n}\r\n\r\n","import {RootStateRedux} from \"../redux-store\";\r\n\r\nexport const getUsersState = (state: RootStateRedux) => {\r\n    return state.usersPage.users\r\n}\r\n/*export const getUsersSelector = (state: RootStateRedux) => {\r\n    return getUsersState(state).filter(u => true)\r\n}\r\nexport const getUsersSuperSelector = createSelector(getUsersState,getIsFetching,(users,isFetching) => {\r\n    return users.filter(u => true)\r\n})*/\r\nexport const getPageSize = (state: RootStateRedux) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootStateRedux) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: RootStateRedux) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: RootStateRedux) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: RootStateRedux) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getUsersFilter = (state: RootStateRedux) => {\r\n    return state.usersPage.filter\r\n}\r\n/*\r\nexport const getIsAuth = (state: RootStateRedux) => {\r\n    return state.usersPage.isAuth\r\n}*/\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    FilterType,\r\n    follow, getUsers, unfollow,\r\n} from \"../../redux/users/users-reducer\";\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\nimport {UserType} from \"../../types\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../../assets/common/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsersFilter,\r\n    getUsersState\r\n} from \"../../redux/users/users-selectors\";\r\nimport {actions} from \"../../redux/users/users-reducer\";\r\n\r\n\r\nclass UsersContainer extends React.Component<MapDispatchToPropsType & MapStateToPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize,\"\")\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize, filter} = this.props\r\n        this.props.getUsers(pageNumber, pageSize,filter.term)\r\n    }\r\n\r\n     onFilterChanged = (filter: FilterType) => {\r\n     const {pageSize} = this.props\r\n\r\n     this.props.getUsers(1,pageSize,filter.term)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n\r\n            <Users\r\n                onPageChanged={this.onPageChanged}\r\n                onFilterChanged={this.onFilterChanged}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                isFetching={this.props.isFetching}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                followingInProgress={this.props.followingInProgress}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                setUsers={this.props.setUsers}\r\n                setCurrentPage={this.props.setCurrentPage}\r\n                setTotalUsersCount={this.props.setTotalUsersCount}\r\n                toggleIsFetching={this.props.toggleIsFetching}\r\n                toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                getUsers={this.props.getUsers}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nexport type MapStateToPropsType = {\r\n    users: UserType[],\r\n    currentPage: number\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    filter: FilterType\r\n}\r\nexport type MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setUsers: (users: Array<UserType>) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    setTotalUsersCount: (totalCount: number) => void\r\n    toggleIsFetching: (isFetching: boolean) => void\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number,term: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateRedux):MapStateToPropsType => {\r\n    return {\r\n        users: getUsersState(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        filter: getUsersFilter(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, RootStateRedux>\r\n    (mapStateToProps,{\r\n        follow,\r\n        unfollow,\r\n        getUsers,\r\n        setUsers:actions.setUsers,\r\n        setCurrentPage: actions.setCurrentPage,\r\n        setTotalUsersCount: actions.setTotalUsersCount,\r\n        toggleIsFetching: actions.toggleIsFetching,\r\n        toggleFollowingProgress:actions.toggleFollowingProgress\r\n    } )\r\n) (UsersContainer)","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport type HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nconst Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            {/*<img src='https://p7.hiclipart.com/preview/799/906/393/web-development-angularjs-react-front-and-back-ends-satelite-thumbnail.jpg'/>*/}\r\n            <img\r\n                src='https://p1.hiclipart.com/preview/570/557/170/react-logo-redux-javascript-vuejs-babel-nodejs-npm-web-application-png-clipart.jpg'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>);\r\n}\r\nexport default Header;","import {instance, APIResponseType, ResultCodeEnum, ResultCodeForCaptcha} from \"./api\";\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodeEnum | ResultCodeForCaptcha>>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        })\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\ntype MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\ntype LoginResponseDataType = {\r\n    userId: number\r\n}","import {instance} from \"./api\";\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}","import {ResultCodeEnum, ResultCodeForCaptcha} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {BaseThunkType, InferActionsType} from \"./redux-store\";\r\nimport {authAPI} from \"../api/auth-api\";\r\nimport {securityAPI} from \"../api/security-api\";\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n}\r\n\r\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/auth/SET_USER_DATA':\r\n        case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// ACTION CREATORS\r\nexport const actions = {\r\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => (\r\n        {type: 'SN/auth/SET_USER_DATA', payload: {userId, email, login, isAuth}} as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => (\r\n        {type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const),\r\n\r\n}\r\n\r\n// THUNK CREATORS\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === ResultCodeEnum.Success) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(actions.setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = data.messages.length > 0\r\n            ? data.messages[0]\r\n            : \"some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(actions.setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n// TYPES\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | ReturnType<typeof stopSubmit>>\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\ntype OwnPropsType = {\r\n    logout: () => void\r\n}\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\nclass HeaderContainer extends React.Component<OwnPropsType & MapStateToPropsType> {\r\n\r\n    render() {\r\n        return (\r\n            <Header\r\n                isAuth={this.props.isAuth}\r\n                login={this.props.login}\r\n                logout={this.props.logout}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateRedux): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react'\r\nimport {reduxForm} from \"redux-form\";\r\nimport {connect} from \"react-redux\";\r\nimport {LoginForm, PropsType} from \"./LoginForm\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {RootStateRedux} from \"../../redux/redux-store\";\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, PropsType>({form: 'login'})(LoginForm)\r\ntype MapStateToPropsType = {\r\n    captchaUrl: string | null\r\n    isAuth: boolean\r\n\r\n}\r\ntype MapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\nexport type LoginFormValuesType = {\r\n    password: string\r\n    email: string\r\n    rememberMe: boolean\r\n    captchaUrl: string\r\n}\r\nconst Login: React.FC<MapStateToPropsType & MapDispatchToPropsType> = (props) => {\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captchaUrl)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateRedux): MapStateToPropsType => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {required} from \"../../utilities/validators/Validators\";\r\nimport {createField, Input, GetStringKeys} from \"../../assets/common/FormsControls/FormsControls\";\r\nimport React from \"react\";\r\nimport s from \"../../assets/common/FormsControls/FormsControls.module.css\"\r\nimport {InjectedFormProps} from \"redux-form\";\r\nimport {LoginFormValuesType} from \"./Login\";\r\n\r\nexport type PropsType = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, PropsType> & PropsType> = ({\r\n                                                                                                       handleSubmit,\r\n                                                                                                       error,\r\n                                                                                                       captchaUrl\r\n                                                                                                   }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField<LoginFormValuesTypeKeys>(\"Email\", \"email\", [required], Input)}\r\n            {createField<LoginFormValuesTypeKeys>(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField<LoginFormValuesTypeKeys>(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt={'not found'}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport type LoginFormValuesTypeKeys = GetStringKeys<LoginFormValuesType>\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\nimport {InferActionsType} from \"./redux-store\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/APP/INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// THUNK CREATOR\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(actions.initializedSuccess())\r\n        })\r\n}\r\n\r\n// ACTION CREATORS\r\nexport const actions = {\r\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\n// TYPES\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsType<typeof actions>\r\n// type ThunkType = BaseThunkType<ActionsType>\r\nexport default appReducer;","\r\n type SidebarStateType = typeof initialState\r\n let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action: any): SidebarStateType => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {Action, applyMiddleware, combineReducers, createStore, Store} from \"redux\";\r\nimport profileReducer from \"./profile/profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\nimport {usersReducer} from \"./users/users-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type RootStateRedux = ReturnType<typeof rootReducer>\r\nlet store: Store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n// type PropertiesTypes<T> = T extends { [key: string] : infer U } ? U : never\r\n// export type InferActionsType<T extends { [key: string] : (...args: any[]) => any}> = ReturnType<PropertiesTypes<T>>\r\n\r\nexport type InferActionsType<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, RootStateRedux, unknown, A>\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>)  {\r\n\r\n     return (props: WCP) => {\r\n         return <React.Suspense fallback={<div>loading...</div>}>\r\n             <WrappedComponent {...props}/>\r\n         </React.Suspense>\r\n     }\r\n}","import React, {useEffect} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport News from \"./components/Profile/News/News\";\nimport Music from \"./components/Profile/Music/Music\";\nimport Settings from './components/Profile/Settings/Settings';\nimport {BrowserRouter, Redirect, Route} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {withRouter} from \"react-router-dom\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport store, {RootStateRedux} from \"./redux/redux-store\";\nimport {Preloader} from \"./assets/common/Preloader\";\nimport {compose} from \"redux\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Profile/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst SuspendedDialogs = withSuspense(DialogsContainer)\nconst SuspendedProfile = withSuspense(ProfileContainer)\n\n\ntype MapStateToPropsType = {\n    initialized: boolean\n}\ntype MapDispatchToPropsType = {\n    initializeApp: () => void\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\nconst App: React.FC<PropsType> = ({initialized, initializeApp}) => {\n    let catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        alert('Some error occured')\n    }\n\n    useEffect(() => {\n        initializeApp();\n        window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\n        window.removeEventListener('unhandledrejection', catchAllUnhandledErrors)\n    }, [])\n    if (!initialized) {\n        return <Preloader/>\n    }\n    return (\n        <div className='app-wrapper'>\n            <HeaderContainer/>\n            <Navbar/>\n            <div className='app-wrapper-content'>\n                <Route exact path=\"/\"\n                       render={() => <Redirect to={\"/profile\"}/>}/>\n                <Route path='/dialogs'\n                       render={() => <SuspendedDialogs/>}/>\n                <Route path='/profile/:userId?'\n                       render={() => <SuspendedProfile/>}/>\n                <Route path='/users'\n                       render={() => <UsersContainer/>}/>\n                <Route path='/login' render={() => <Login/>}/>\n                <Route path='/dialogs' render={() => <News/>}/>\n                <Route path='/profile' render={() => <Music/>}/>\n                <Route path='/dialogs' render={() => <Settings/>}/>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: RootStateRedux): MapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose<React.ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App)\n\nconst SamuraiJSApp = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SamuraiJSApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport SamuraiJSApp from \"./App\";\n\n\nReactDOM.render(<SamuraiJSApp/>\n    , document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\"\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\nimport s from './FormsControls.module.css'\r\nimport {FieldValidatorType} from \"../../../utilities/validators/Validators\";\r\n\r\ntype FormsControlsPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormsControlsPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error\r\n\r\n    return <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n        <div>\r\n            {children}\r\n        </div>\r\n        {hasError && <span>{error}</span>}\r\n    </div>\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | null,\r\n                                                         name: string,\r\n                                                         validators: FieldValidatorType[],\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         //component: (value: string) => (string | undefined),\r\n                                                         props = {},\r\n                                                         text = \"\") {\r\n    return <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__Ceuz6\",\"error\":\"FormsControls_error__2gDaN\",\"formSummaryError\":\"FormsControls_formSummaryError__r1pzm\"};","import React from \"react\"\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n   if(value) return undefined ;\r\n   return \"Field is required!\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType  => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols` ;\r\n\r\n    return undefined;\r\n}","export default __webpack_public_path__ + \"static/media/Spin-1.4s-137px (1).509019ba.svg\";","import preloader from \"../images/Spin-1.4s-137px (1).svg\";\r\nimport React from \"react\";\r\n\r\n\r\nexport let Preloader = (props: any) => {\r\n    return <div style={{backgroundColor: ''}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__245Xh\",\"pageNumber\":\"Paginator_pageNumber__2DhQX\",\"selectedPage\":\"Paginator_selectedPage__2JAKO\"};"],"sourceRoot":""}