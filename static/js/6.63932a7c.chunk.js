(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{382:function(e,t,c){e.exports={btn:"ChatPage_btn__h227e"}},385:function(e,t,c){"use strict";c.r(t),c.d(t,"Chat",(function(){return b})),c.d(t,"Messages",(function(){return d})),c.d(t,"Message",(function(){return l})),c.d(t,"AddMessageForm",(function(){return O}));var n=c(151),r=c(1),s=c(0),u=c.n(s),i=c(17),j=c(187),a=c(382),o=c.n(a),b=function(){var e=Object(i.d)((function(e){return e.chat.status})),t=Object(i.c)();return Object(s.useEffect)((function(){return t(Object(j.c)()),function(){t(Object(j.d)())}}),[]),Object(r.jsxs)("div",{children:["error"===e&&Object(r.jsx)("div",{children:'alert("error occured.Please refresh the page")'}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d,{}),Object(r.jsx)(O,{})]})]})},d=function(){var e=Object(i.d)((function(e){return e.chat.messages})),t=Object(s.useRef)(null),c=Object(s.useState)(!0),u=Object(n.a)(c,2),j=u[0],a=u[1];Object(s.useEffect)((function(){var e;j&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return Object(r.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!j&&a(!0):j&&a(!1)},children:[e.map((function(e,t){return Object(r.jsx)(l,{message:e},e.id)})),Object(r.jsx)("div",{ref:t})]})},l=u.a.memo((function(e){var t=e.message;return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:t.photo,style:{width:"30px"}}),Object(r.jsx)("b",{children:t.userName}),Object(r.jsx)("br",{}),t.message,Object(r.jsx)("hr",{})]})})),O=function(){var e=Object(s.useState)(""),t=Object(n.a)(e,2),c=t[0],u=t[1],a=Object(i.d)((function(e){return e.chat.status})),b=Object(i.c)();return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("textarea",{value:c,onChange:function(e){return u(e.currentTarget.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:o.a.btn,onClick:function(){c&&(b(Object(j.b)(c)),u(""))},disabled:"ready"!==a,children:"Send"})})]})};t.default=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(b,{})})}}}]);
//# sourceMappingURL=6.63932a7c.chunk.js.map